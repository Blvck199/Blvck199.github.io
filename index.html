<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine's Day Adventure</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #ffc0cb; /* Light pink background */
    color: #800000; /* Maroon text */
    text-align: center;
    padding: 50px;
  }
  .hidden {
    display: none;
  }
  .sadBackground {
    background-color: #d3d3d3; /* Grey background for a sad theme */
  }
</style>
</head>
<body>

<h1>Hey SolÃ¨ne!!</h1>
<p>How are you doing today love?</p>
<input type="text" id="feelingInput" placeholder="How do you feel?" class="input">
<button onclick="analyzeFeeling()">Submit</button>

<p id="response"></p>
<p id="valentineQuestion" class="hidden">Would you like to be my Valentine? I would like to take you somewhere nice and watch you smile. ðŸ’–</p>
<div id="yesNoButtons" class="hidden">
  <button onclick="handleValentineResponse('yes')">Yes</button>
  <button onclick="handleValentineResponse('no')">No</button>
</div>
<p id="followUpQuestion" class="hidden"></p>
<div id="followUpButtons" class="hidden">
  <button onclick="handleFollowUpResponse('yes')">Yes</button>
  <button onclick="handleFollowUpResponse('no')">No</button>
</div>
<p id="dateOptions" class="hidden"></p>
<div id="dateButtons" class="hidden">
  <button onclick="handleDateOption('illusion')">Go to the Illusion Museum</button>
  <button onclick="handleDateOption('pool')">Play Pool and Have Drinks</button>
  <button onclick="handleDateOption('both')">Both</button>
</div>

<!-- Formspree Form for Submitting Date Option -->
<form id="dateForm" action="https://formspree.io/f/mvoekrdg" method="POST" class="hidden">
  <input type="hidden" name="dateChoice" id="dateChoice">
</form>

<script>
let noCount = 0;

function analyzeFeeling() {
  // Initial feeling analysis logic here
  document.getElementById("valentineQuestion").classList.remove("hidden");
  document.getElementById("yesNoButtons").classList.remove("hidden");
}

function handleValentineResponse(response) {
  if (response === 'yes') {
    document.getElementById("response").innerHTML = "Wonderful news, you are such a darling. ðŸ’–";
    document.getElementById("dateOptions").innerHTML = "Would you rather go to the Illusion Museum, go play pool and have drinks, or both?";
    document.getElementById("dateOptions").classList.remove("hidden");
    document.getElementById("dateButtons").classList.remove("hidden");
  } else if (response === 'no') {
    askWhy();
  }
  document.getElementById("valentineQuestion").classList.add("hidden");
  document.getElementById("yesNoButtons").classList.add("hidden");
}

function askWhy() {
  if (noCount < 10) {
    document.body.classList.add("sadBackground");
    document.getElementById("followUpQuestion").innerHTML = "Why? ðŸ˜¢ Are you sure?";
    document.getElementById("followUpQuestion").classList.remove("hidden");
    document.getElementById("followUpButtons").classList.remove("hidden");
    noCount++;
  } else {
    document.getElementById("response").innerHTML = "Okay. I am sad. ðŸ˜¢";
    document.getElementById("followUpQuestion").classList.add("hidden");
    document.getElementById("followUpButtons").classList.add("hidden");
  }
}

function handleFollowUpResponse(response) {
  if (response === 'no') {
    askWhy(); // Keep asking
  } else {
    // Reset the flow or take another action
    document.body.classList.remove("sadBackground");
    document.getElementById("response").innerHTML = "I'm glad you reconsidered! ðŸ˜Š";
    document.getElementById("followUpQuestion").classList.add("hidden");
    document.getElementById("followUpButtons").classList.add("hidden");
  }
}

function handleDateOption(option) {
  // Set the choice in the hidden input
  document.getElementById("dateChoice").value = "SolÃ¨ne chose: " + option;

  // Submit the form
  document.getElementById("dateForm").submit();

  // Update the response to SolÃ¨ne
  document.getElementById("response").innerHTML = "You are truly amazing, I love you. ðŸ’– Your choice: " + option;
  document.getElementById("dateOptions").classList.add("hidden");
  document.getElementById("dateButtons").classList.add("hidden");
}
</script>

</body>
</html>
